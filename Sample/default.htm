<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link rel="stylesheet" href="http://cdn.kendostatic.com/2015.1.429/styles/kendo.common.min.css" />
    <link rel="stylesheet" href="http://cdn.kendostatic.com/2015.1.429/styles/kendo.metro.min.css" />
    <link rel="stylesheet" href="http://cdn.kendostatic.com/2015.1.429/styles/kendo.mobile.all.min.css" />   
    <script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.20/require.min.js"></script>
    <script>
        //get libs and deps via require.js
        require.config({
            baseUrl: "",
            paths: {
                'jquery': 'http://cdn.kendostatic.com/2015.1.429/js/jquery.min',
                'kendo': 'http://cdn.kendostatic.com/2015.1.429/js/kendo.ui.core.min',
                'mokuso': 'Scripts/mokuso.min',
                'viewmodel': 'ViewModels',
                'view': 'Views'
            },
            shim: {
                'jquery': { exports: 'jQuery' },
                'kendo': { deps: ['jquery'], exports: 'kendo' },
                'mokuso': { deps: ['kendo'], exports: 'mokuso' },
            },
            deps: ['mokuso'],
            callback: function (mokuso) {
                //initialize mokuso
                if (kendo.support.mobileOS) {
                    window.app = new mokuso($("#content"), { initial: "Mobile" }, true);
                }
                else {
                    window.app = new mokuso($("#content"), { initial: "Home", modules: [
                        new (mokuso.Module.extend({ 
                            beforeInit: function (app) {
                                //make sure the app loads the Navigation view before doing anything else! 
                                return app.load($("#nav"),"Navigation"); 
                            }
                        }))()
                    ]});
                }
            }
        });
    </script>
</head>
<body>
    <div id="nav"></div>
    <div id="content"></div>
</body>
</html>
